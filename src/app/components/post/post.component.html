<ion-card *ngIf="post" class="welcome-card">
  <!--
    <ion-button item-right (click)="follow()" [fill]="buttonFill" size="small" shape="round">{{btnValue}}</ion-button>
  -->
  <!-- <ion-button (click)="open(post.externalUri)" fill="clear" size="small" color="dark" *ngIf="post.postType == 's'">
    <ion-icon class="topIcon" style="color:#1db954;font-size: 23px" src="/assets/icon/spotify.svg"></ion-icon>
    Play on spotify
  </ion-button>
  <ion-button (click)="open('https://www.youtube.com/watch?v=' + post.songId)" fill="clear" size="small" color="dark" *ngIf="post.postType == 'yt'">
    <ion-icon class="topIcon" name="logo-youtube" style="color: #ff0000; font-size: 23px"></ion-icon>
    Play on Youtube
  </ion-button>
  <ion-button (click)="delete(post.id)" fill="clear" size="small" *ngIf="post.UserID == this.firebaseAuth.getCurrentUserID()">
    <ion-icon class="topIcon" name="close" style="color: #6b6161; font-size: 23px"></ion-icon>
  </ion-button> -->
  <ion-img [src]="post.albumArt"></ion-img>
  <ion-card-header style="text-align:center">
    <ion-card-subtitle>{{ post.songName }}</ion-card-subtitle>
    <ion-card-title>{{ post.artistName }}</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <div text-wrap style="word-wrap: break-word;">
    <b>{{username}}</b> {{ post.caption }}
    </div>
  </ion-card-content>
  <ion-row>
  <ion-buttons>
    <ion-col>
      <ion-button fill="clear" size="small" [color]="heartColor" (click)="liked ? removeLike(post.id) : addLike(post.id)">
        <ion-icon [name]="heartType"></ion-icon>
        <ion-note style="margin-left: 5px"> {{post.likeCounter}} </ion-note>
      </ion-button>
    </ion-col>
  
    <ion-col>
      <ion-button icon-left fill="clear" (click)="selectComments(post)" size="small" color="dark">
        <ion-icon name="text"></ion-icon>
        <ion-note style="margin-left: 5px"> {{post.commentCounter}} </ion-note>
      </ion-button>
    </ion-col>
    <ion-col *ngIf='!spotifyService.playing && post.postType == "s"'>
      <ion-button (click)="spotifyService.paused && spotifyService.songPos > 0 ? resume(post.songId) : play(post.songId)"
        fill="clear" size="small" color="dark">
        <ion-icon name="play"></ion-icon>
      </ion-button>
    </ion-col>
    <ion-col *ngIf='spotifyService.playing && post.postType == "s"'>
      <ion-button (click)="pause()" fill="clear" size="small" color="dark">
        <ion-icon name="pause"></ion-icon>
      </ion-button>
    </ion-col>
    <ion-col *ngIf='post.postType == "yt"'>
      <ion-button (click)="playYoutube(post.songId)" fill="clear" size="small" color="dark">
        <ion-icon name="play"></ion-icon>
      </ion-button>
    </ion-col>
        <ion-col style="margin-left:5%;">
      <ion-note> {{ post.createdAt | dateTimeConvert: "" }} </ion-note>
    </ion-col>
    <ion-col>
      <ion-list>
        <ion-item>
            <ion-label>
                <fa-icon [icon]="['fas','ellipsis-v']"></fa-icon>
              </ion-label>
              <ion-select okText="" interface="action-sheet" cancelText="Dismiss">
                <ion-select-option (click)="open(post.externalUri)" *ngIf="post.postType == 's'" value="s">
                  <ion-button fill="clear" size="small" color="dark">
                    <ion-icon class="topIcon" style="color:#1db954;font-size: 23px" src="/assets/icon/spotify.svg"></ion-icon>
                    Play on spotify
                  </ion-button>
                </ion-select-option>
                <ion-select-option *ngIf="post.postType == 'yt'" value="yt" (click)="open('https://www.youtube.com/watch?v=' + post.songId)">
                  <ion-button fill="clear" size="small" color="dark">
                    <ion-icon class="topIcon" name="logo-youtube" style="color: #ff0000; font-size: 23px"></ion-icon>
                    Play on Youtube
                  </ion-button>
                </ion-select-option>
                <ion-select-option (click)="delete(post.id)" value="delete" *ngIf="post.UserID == this.firebaseAuth.getCurrentUserID()">
                  Delete
                  <ion-icon class="topIcon" name="close" style="color: #6b6161; font-size: 23px"></ion-icon>
                </ion-select-option>
              </ion-select>
        </ion-item>
      </ion-list>
    </ion-col>
  </ion-buttons> 
  </ion-row>
</ion-card>

<!--

    <ion-label>
      <fa-icon [icon]="['fas','ellipsis-v']"></fa-icon>
    </ion-label>
    <ion-select>
      <ion-select-option value="s">
        <ion-button (click)="open(post.externalUri)" fill="clear" size="small" color="dark" *ngIf="post.postType == 's'">
          <ion-icon class="topIcon" style="color:#1db954;font-size: 23px" src="/assets/icon/spotify.svg"></ion-icon>
          Play on spotify
        </ion-button>
      </ion-select-option>
      <ion-select-option value="yt">
        <ion-button (click)="open('https://www.youtube.com/watch?v=' + post.songId)" fill="clear" size="small" color="dark"
          *ngIf="post.postType == 'yt'">
          <ion-icon class="topIcon" name="logo-youtube" style="color: #ff0000; font-size: 23px"></ion-icon>
          Play on Youtube
        </ion-button>
      </ion-select-option>
      <ion-select-option value="delete">
        <ion-button (click)="delete(post.id)" fill="clear" size="small" *ngIf="post.UserID == this.firebaseAuth.getCurrentUserID()">
          <ion-icon class="topIcon" name="close" style="color: #6b6161; font-size: 23px"></ion-icon>
        </ion-button>
      </ion-select-option>
    </ion-select>


    <ion-buttons slot="end">
    <ion-button fill="clear" color="medium">
      <ion-icon name="star"></ion-icon>
    </ion-button>
    <ion-button fill="clear" color="medium">
      <ion-icon name="play"></ion-icon>
    </ion-button>
    <ion-button fill="clear" color="medium">
      <ion-icon name="add"></ion-icon>
    </ion-button>
  </ion-buttons>
-->